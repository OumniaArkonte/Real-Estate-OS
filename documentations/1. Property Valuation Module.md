# Module 1: Property Valuation Module

## Objectif du module

Le module `Property Valuation` fournit une **évaluation complète des biens immobiliers**. Il orchestre plusieurs agents pour :

1. Collecter et normaliser des données immobilières depuis diverses sources (web, documents, APIs).
2. Calculer des estimations de valeur via des modèles automatiques et manuels (AVM, ML/AutoML).
3. Générer un **rapport structuré** avec la valeur estimée et un score de confiance.

Le module est structuré autour d’une **équipe d’agents spécialisés**, chacun utilisant des outils internes et personnalisés.

---

## Agents du module

### 1. Data Collector Agent

* **Rôle principal :** Collecte et normalise les données immobilières.
* **Fonctions clés :**

  * Collecte des caractéristiques d’un bien (surface, chambres, localisation, année de construction…).
  * Recherche de ventes comparables récentes et pertinentes.
  * Normalisation et déduplication des données.
  * Ingestion dans la base de connaissances si nécessaire.
* **Outils utilisés :**

  * `FileTools`
  * `GoogleSearchTools`
  * `PandasTools`
  * `avm_engine`
  * `web_property_scraper`
  * `document_property_parser`
  * `kb_ingest_indexer`
* **Base de connaissances :** `Property Valuation KB`

---

### 2. Valuation Model Agent

* **Rôle principal :** Estimation de la valeur du bien.
* **Fonctions clés :**

  * Calcul des estimations par différentes méthodes : prix par pied², comparables ajustés, ML/AutoML.
  * Explication des facteurs influençant la valeur (surface, chambres, âge, état…).
  * Agrégation des résultats pour produire une valeur finale avec score de confiance.
* **Outils utilisés :**

  * `PandasTools`
  * `CalculatorTools`
  * `avm_engine`
  * `valuation_model_runner`
* **Base de connaissances :** `Property Valuation KB`

---

### 3. Report Generator Agent

* **Rôle principal :** Génération de rapports complets de valorisation.
* **Fonctions clés :**

  * Compilation des données collectées et des résultats des modèles.
  * Calcul du score de confiance global.
  * Production d’un rapport clair et lisible (PDF/Markdown).
* **Outils utilisés :**

  * `FileTools`
  * `CalculatorTools`
* **Base de connaissances :** Optionnelle

---

## Outils personnalisés

1. **`web_property_scraper`** : collecte et normalise les informations de biens depuis le web.
2. **`document_property_parser`** : extraction d’attributs depuis des documents texte.
3. **`avm_engine`** : estimation rapide de la valeur d’un bien.
4. **`kb_ingest_indexer`** : ingestion et indexation dans la base de connaissances vectorielle.
5. **`valuation_model_runner`** : exécution de modèles ML/AutoML pour prédiction détaillée.

---

## Base de connaissances

* **Nom :** `Property Valuation KB`
* **Technologie :** `PgVector` avec embeddings Mistral (`MistralEmbedder`)
* **Usage :** Stocke les documents et datasets de valorisation pour enrichir les analyses des agents.
* **Capacité :** Retourne jusqu’à 5 résultats pertinents pour une requête donnée.

---

## Workflow global

1. **DataCollectorAgent** → collecte et normalise les données.
2. **ValuationModelAgent** → calcule les valorisations multi-méthodes et produit la valeur finale avec score de confiance.
3. **ReportGeneratorAgent** → génère le rapport complet.

---

## Résumé

Le module 1 est un **système complet d’évaluation immobilière** intégrant **agents intelligents**, **outils personnalisés**, et **base de connaissances vectorielle**, capable de produire des évaluations fiables et traçables pour n’importe quel bien immobilier.
