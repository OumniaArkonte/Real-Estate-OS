# Module 3 – Market Analysis

## Overview
Le **Market Analysis Module** est conçu pour collecter, analyser, prévoir et visualiser les données du marché immobilier. Il fournit aux utilisateurs des indicateurs clés sur les tendances, la volatilité et les prévisions futures de prix afin de soutenir les décisions d’investissement et de vente.  

Le module fonctionne via quatre agents spécialisés qui coopèrent pour produire une analyse complète et visuelle du marché.

---

## Agents

### 1. Data Aggregator Agent
- **Description**: Collecte et agrège les données de marché à partir de datasets historiques, listings publics et autres sources fiables.  
- **Responsabilités**:
  1. Collecter des datasets de marché (prix, offres, ventes passées).  
  2. Normaliser et dédupliquer les données.  
  3. Produire une sortie prête pour l'analyse (`aggregated_market_data`).  
- **Outils**:
  - `PandasTools`: manipulation et nettoyage des données.  
  - `FileTools`: lecture et écriture de fichiers locaux.  
  - `aggregate_market_data`: outil custom pour l’agrégation des datasets.  
- **Sortie attendue**:
  - `aggregated_market_data`  
  - `entries_count`  
  - `aggregated_at`  

---

### 2. Trend Analysis Agent
- **Description**: Analyse les tendances de prix et fluctuations sur le marché immobilier.  
- **Responsabilités**:
  1. Recevoir les données agrégées du marché.  
  2. Calculer les indicateurs de tendance et de volatilité.  
  3. Identifier les segments de marché avec forte variation.  
- **Outils**:
  - `CalculatorTools`: calculs et statistiques.  
  - `analyze_trends`: outil custom pour produire les métriques de tendance.  
- **Sortie attendue**:
  - `trend_indicators`  
  - `price_fluctuation_metrics`  
  - `analyzed_at`  

---

### 3. Forecasting Agent
- **Description**: Prévoit l'évolution future des prix immobiliers en utilisant les indicateurs de tendance et les données historiques.  
- **Responsabilités**:
  1. Recevoir les indicateurs de tendance.  
  2. Prévoir les prix pour les 6 à 12 prochains mois.  
  3. Fournir une estimation claire pour chaque période.  
- **Outils**:
  - `forecast_market`: outil custom pour produire les prévisions de prix.  
- **Sortie attendue**:
  - `future_market_predictions`  
  - `forecast_generated_at`  

---

### 4. Visualization Agent
- **Description**: Génère des rapports visuels et graphiques basés sur les prévisions de marché.  
- **Responsabilités**:
  1. Recevoir les prévisions de marché.  
  2. Produire des résumés statistiques et graphiques.  
  3. Sauvegarder les rapports localement.  
- **Outils**:
  - `generate_visual_reports`: création des résumés et graphiques.  
  - `FileTools`: gestion de l’enregistrement des fichiers.  
- **Sortie attendue**:
  - `visual_reports`  
  - `generated_at`  
  - `output_file`  

---

## Team: MarketAnalysisTeam
- **Description**: Module complet d'analyse du marché immobilier couvrant la collecte, l'analyse, la prévision et la visualisation des données.  
- **Membres**:
  - `DataAggregatorAgent`  
  - `TrendAnalysisAgent`  
  - `ForecastingAgent`  
  - `VisualizationAgent`  
- **Workflow recommandé**:
  1. `DataAggregatorAgent` → collecte et agrégation des données  
  2. `TrendAnalysisAgent` → analyse des tendances et fluctuations  
  3. `ForecastingAgent` → prévision des prix futurs  
  4. `VisualizationAgent` → génération des rapports visuels  

---

## Tools Customisés

| Tool | Agent | Description |
|------|-------|-------------|
| `aggregate_market_data` | DataAggregatorAgent | Agrège les données du marché à partir de multiples sources et normalise les entrées. |
| `analyze_trends` | TrendAnalysisAgent | Analyse les tendances de prix et les fluctuations pour produire des métriques clés. |
| `forecast_market` | ForecastingAgent | Génère des prévisions de prix futurs basées sur les indicateurs de tendance. |
| `generate_visual_reports` | VisualizationAgent | Crée des graphiques et résumés visuels à partir des prévisions de marché. |

---

## Knowledge Base
Aucune base de connaissances externe n’est utilisée directement dans ce module, mais les données agrégées peuvent servir de source pour d’autres modules ou pour un historique de marché interne.

---

## Summary
Le module **Market Analysis** offre une approche complète et automatisée pour comprendre le marché immobilier. Il transforme les données brutes en insights exploitables, visualisations et prévisions, en orchestrant quatre agents spécialisés avec des outils adaptés à chaque étape du workflow.
