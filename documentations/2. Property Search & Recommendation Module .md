# Module 2 – Property Search & Recommendation

## Overview

Le module **Property Search & Recommendation** est conçu pour rechercher, filtrer et recommander des biens immobiliers adaptés aux préférences de l’utilisateur. Il combine des agents spécialisés dans la collecte de biens, la création de profils utilisateurs, et la génération de recommandations personnalisées.

Le module fonctionne comme une chaîne coordonnée d’agents qui utilisent à la fois des outils internes et des outils personnalisés pour produire des suggestions pertinentes.

---

## Agents

### 1. Search Query Agent

**Description :**
Agent chargé de rechercher et collecter des biens immobiliers correspondant aux critères utilisateur (localisation, budget, type de propriété).

**Responsibilities :**

* Recevoir les critères de l’utilisateur.
* Rechercher les biens pertinents via bases de données et web.
* Normaliser et filtrer les résultats.
* Fournir la liste des biens candidats.

**Outils :**

* `GoogleSearchTools` – recherche sur le web.
* `PandasTools` – traitement et organisation des données.
* `search_properties` (custom tool) – interrogation de la base vectorisée.

**Sortie attendue :**

* `candidate_properties`

---

### 2. User Preference Agent

**Description :**
Agent qui construit un profil utilisateur à partir des préférences explicites et interactions pour personnaliser les recommandations.

**Responsibilities :**

* Collecter les préférences et interactions utilisateur.
* Normaliser et vectoriser ces informations.
* Mettre à jour le profil utilisateur dans la base vectorisée.

**Outils :**

* `PandasTools` – traitement des données utilisateur.
* `generate_user_profile` (custom tool) – génération du vecteur utilisateur.

**Sortie attendue :**

* `user_profile_vector`

---

### 3. Recommendation Engine Agent

**Description :**
Agent responsable de produire les recommandations immobilières adaptées au profil utilisateur, à partir des biens candidats et du vecteur utilisateur.

**Responsibilities :**

* Recevoir les biens candidats et le vecteur utilisateur.
* Évaluer la pertinence de chaque bien par rapport au profil utilisateur.
* Générer une liste ordonnée de recommandations.

**Outils :**

* `PandasTools` – manipulation des données.
* `recommend_properties` (custom tool) – production de la liste finale de recommandations.

**Sortie attendue :**

* `recommended_properties`

---

## Tools

### Custom Tools

1. **search_properties**

   * Recherche et filtre des biens candidats selon critères.
   * Retourne liste normalisée et horodatée des biens.

2. **generate_user_profile**

   * Crée un vecteur représentant les préférences de l’utilisateur.
   * Inclut interactions et métadonnées.

3. **recommend_properties**

   * Filtre, trie et recommande les biens les mieux adaptés au profil utilisateur.
   * Retourne la liste triée avec timestamp.

### Built-in Tools

* `GoogleSearchTools`
* `PandasTools`

---

## Team: PropertySearchTeam

**Description :**
Coordonne les trois agents pour assurer un flux complet depuis la recherche de biens jusqu’à la recommandation finale.

**Workflow :**

1. **SearchQueryAgent** → collecte des biens candidats.
2. **UserPreferenceAgent** → création du profil utilisateur.
3. **RecommendationEngineAgent** → génération des recommandations.

**Sortie standardisée :**

* Liste des biens candidats
* Vecteur de profil utilisateur
* Liste finale des propriétés recommandées
